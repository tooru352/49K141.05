<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Milano Coffee - Nhân viên</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Jacques+Francois+Shadow&family=Inder&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
  <!-- Header + Taskbar giống các trang khác -->
  <div class="header">
    <div class="logo-section">
      <img class="logo" src="../Quan_ly_ban_hang/image/milano.jpg" alt="Logo">
      <div class="logo-text">MILANO COFFEE</div>
    </div>
    <!-- Thay toàn bộ phần .user-area bằng đoạn này -->
    <div class="user-area" onclick="window.location.href='../Thong_tin_ca_nhan/ttcanhan.html'">
      <!-- Trong .user-area -->
      <span class="user-id">
        <script>
          const user = JSON.parse(localStorage.getItem("currentUser"));
          document.write(user ? user.username : "NV0001");
        </script>
      </span>
      <img class="user-avatar" src="../Quan_ly_ban_hang/image/avatar.jpg" alt="Avatar">
    </div>
  </div>

  <!-- TASKBAR CÓ DROPDOWN ĐẸP Y CHANG HÌNH -->
<div class="taskbar">
  <a href="../Quan_ly_ban_hang/index.html">Bán hàng</a>

    <a href="../nhaphang/nhaphang.html" >Nhập hàng</a>
    <a href="../QuanLyTonKHo/index.html">Tồn kho</a>
    <div class="dropdown">
  <a href="#" class="dropdown-toggle">Tổng kết</a>
  <div class="dropdown-menu info-menu">
    <a href="../BaocaoNK/baocao.html">Báo cáo nhập hàng</a>
    <a href="../baocaoDT/baocaoDT.html">Báo cáo doanh thu</a>
  </div>
</div>
   <!-- DROPDOWN "QUẢN LÝ THÔNG TIN" – ĐẸP Y CHANG HÌNH BẠN GỬI -->
<div class="dropdown">
  <a href="#" class="dropdown-toggle">Quản lý thông tin</a>
  <div class="dropdown-menu info-menu">
    <a href="../QuanLyNhanVien/index.html">Nhân viên</a>
    <a href="../QL_TT_NCC/QL_TT_NCC.html">Nhà cung cấp</a>
    <a href="../QL_TT_mon/Quan_ly_mon.html">Món</a>
    <a href="../QL_TT_NL/nguyenlieu.html">Nguyên liệu</a>
    <a href="../Quan_ly_tai_khoan/index.html">Tài khoản</a>
    <a href="../giaodich/giaodich.html">Lịch sử thanh toán</a>
  </div>
</div>
<div class="dropdown">
  <a href="#" class="dropdown-toggle">Nhân viên</a>
  <div class="dropdown-menu">
    <!-- Quản lý lương (có submenu) -->
    <div class="dropdown-submenu">
      <a href="#" class="dropdown-toggle-submenu">
        Quản lý lương 
        <span class="submenu-arrow">></span>
      </a>
      <div class="dropdown-menu submenu">
        <a href="../ql_luong/Bảng công/bc.html">Bảng công</a>
        <a href="../ql_luong/Bảng lương/ql_luong.html">Bảng lương</a>
        <a href="../ql_luong/Tính lương/tluong.html">Tính lương</a>
      </div>
    </div>

    <!-- Quản lý lịch làm việc -->
    <a href="../ql_luong/Lịch làm/Llam.html">Quản lý lịch làm việc</a>
  </div>
</div>
  </div>
  <div class="back-to-dashboard" onclick="window.location.href='../Quan_ly_ban_hang/index.html'" title="Quay lại trang Bán hàng">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="#c8a165" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  <h1 style="text-align:center;color:#c8a165;margin-bottom: 30px;margin-top:-50px;">DANH SÁCH NHÂN VIÊN</h1>
</div>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <section class="employee-page">
        <div class="page-header">
          <button class="btn-add" onclick="openAddModal()">
            <span class="plus">+</span> Thêm</button>
        </div>

        <div class="table-wrapper">
          <table class="employee-table">
            <thead>
              <tr>
                <th>Mã nhân viên</th>
                <th>Tên nhân viên</th>
                <th>Số điện thoại</th>
                <th>Email</th>
                <th>CCCD</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="employeeList">
              <!-- JS sẽ fill dữ liệu -->
            </tbody>
          </table>
          <button class="page-btn next">
        </div>
        <div class="pagination">
            <button class="page-arrow prev disabled">
              <span>&#x2039;</span> <!-- ‹ -->
            </button>
            <button class="page-number">1</button>
            <button class="page-number active">2</button>

            <button class="page-arrow next">
              <span>&#x203A;</span> <!-- › -->
            </button>
          </div>

        </div>

      </section>
    </main>
  </div>

  <!-- Modal Thêm / Sửa -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <h3 id="modalTitle">Thêm nhân viên mới</h3>
      <form id="employeeForm">
        <input type="hidden" id="editIndex">
        <div class="form-row">
          <div class="form-group">
            <label>Mã nhân viên</label>
            <input type="text" id="maNV" required>
          </div>
          <div class="form-group">
            <label>Tên nhân viên</label>
            <input type="text" id="tenNV" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Số điện thoại</label>
            <input type="text" id="sdt" required>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="email" required>
          </div>
        </div>
        <div class="form-group full">
          <label>CCCD</label>
          <input type="text" id="cccd" required>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn-cancel" onclick="closeModal()">Hủy</button>
          <button type="submit" class="btn-save">Lưu lại</button>
        </div>
      </form>
    </div>
  </div>


  <!-- POPUP SỬA THÔNG TIN NHÂN VIÊN (851 x 781) -->
  <div id="editPopup" class="popup-overlay" style="display: none;">
    <div class="popup-card">
      <button type="button" id="btnCloseEdit" class="back-btn">←</button>
      <h1 class="popup-title">Cập Nhật Thông Tin</h1>

      <form id="editEmployeeForm" class="info-form">
        <div class="form-row">
          <label for="editEmployeeCode">Mã nhân viên:</label>
          <input
            type="text"
            id="editEmployeeCode"
            name="editEmployeeCode"
            readonly
          />
        </div>

        <div class="form-row">
          <label for="editEmployeeName">Tên nhân viên:</label>
          <input
            type="text"
            id="editEmployeeName"
            name="editEmployeeName"
          />
        </div>

        <div class="form-row">
          <label for="editEmployeePhone">Số điện thoại:</label>
          <input
            type="text"
            id="editEmployeePhone"
            name="editEmployeePhone"
          />
        </div>

        <div class="form-row">
          <label for="editEmployeeEmail">Email:</label>
          <input
            type="email"
            id="editEmployeeEmail"
            name="editEmployeeEmail"
          />
        </div>

        <div class="form-row">
          <label for="editEmployeeCitizenId">CCCD:</label>
          <input
            type="text"
            id="editEmployeeCitizenId"
            name="editEmployeeCitizenId"
          />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-save">Cập nhật</button>
        </div>
      </form>
    </div>
  </div>

<!-- POPUP THÊM NHÂN VIÊN (801 x 703) -->
<div id="addPopup" class="popup-overlay" style="display:none;">
  <div class="add-popup-card">
    <!-- Nút quay lại / đóng -->
    <button type="button" id="btnCloseAdd" class="back-btn">←</button>
    <h1 class="popup-title">Thêm nhân viên</h1>

    <form id="addEmployeeForm" class="info-form">
      <div class="form-row">
        <label for="addName">Tên nhân viên:</label>
        <input type="text" id="addName" required />
      </div>

      <div class="form-row">
        <label for="addPhone">Số điện thoại:</label>
        <input type="text" id="addPhone" required />
      </div>

      <div class="form-row">
        <label for="addEmail">Email:</label>
        <input type="email" id="addEmail" required />
      </div>

      <div class="form-row">
        <label for="addCccd">CCCD:</label>
        <input type="text" id="addCccd" required />
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-save">Thêm</button>
      </div>
    </form>
  </div>
</div>

    <!-- POPUP THÔNG BÁO (792 x 444) -->
  <div id="notifyOverlay" class="notify-overlay" style="display:none;">
    <div class="notify-box">
      <div class="notify-icon">✓</div>
      <h2 class="notify-title">Thành công!</h2>
      <button class="notify-btn" onclick="closeNotify()">OK</button>
    </div>
  </div>
    <!-- POPUP XÁC NHẬN XÓA NHÂN VIÊN -->
  <div id="deleteOverlay" class="delete-overlay" style="display:none;">
    <div class="delete-card">
      <h2 class="delete-title">Xác nhận xóa thông tin nhân viên</h2>

      <div class="delete-icon">
        <!-- Icon thùng rác -->
        <svg viewBox="0 0 24 24">
          <path d="M3 6H21" />
          <path d="M9 4H15C15.6 4 16 4.4 16 5V6H8V5C8 4.4 8.4 4 9 4Z" />
          <path d="M6 6V19C6 19.6 6.4 20 7 20H17C17.6 20 18 19.6 18 19V6" />
          <path d="M10 10V17" />
          <path d="M14 10V17" />
        </svg>
      </div>

      <div class="delete-actions">
        <button class="btn-delete-cancel" onclick="closeDeletePopup()">Hủy</button>
        <button class="btn-delete-confirm" onclick="confirmDelete()">Xác nhận</button>
      </div>
    </div>
  </div>
    <!-- POPUP THÔNG BÁO XÓA THÀNH CÔNG -->
  <div id="deleteSuccessOverlay" class="notify-overlay" style="display:none;">
    <div class="delete-success-box">
      <div class="delete-success-icon">
        <span>✓</span>
      </div>
      <h2 class="delete-success-title">XÓA THÀNH CÔNG</h2>
      <button class="delete-success-btn" onclick="closeDeleteSuccess()">Đóng</button>
    </div>
  </div>



  <script src="scripts.js"></script>
</body>

</html>